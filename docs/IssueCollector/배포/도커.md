# 도커

![https://s3.us-west-2.amazonaws.com/secure.notion-static.com/cd6d0280-0975-4d76-88b3-d646dc46e05a/docker_and_compose.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20200829%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20200829T235311Z&X-Amz-Expires=86400&X-Amz-Signature=90cfc9e9057e2121ec61bb44edb1cf250338362e18c4b8b0deddcf6e71ccd9b4&X-Amz-SignedHeaders=host&response-content-disposition=filename %3D"docker_and_compose.jpg"](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/cd6d0280-0975-4d76-88b3-d646dc46e05a/docker_and_compose.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20200829%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20200829T235311Z&X-Amz-Expires=86400&X-Amz-Signature=90cfc9e9057e2121ec61bb44edb1cf250338362e18c4b8b0deddcf6e71ccd9b4&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%22docker_and_compose.jpg%22)

Issue Collector 프로젝트의 서비스 배포를 위한 Docker 이미지 빌드

## 배포환경

- Ubuntu Server 19.10.1 arm64
- Docker 19.03.2
- Docker-compose 1.12.0

## 변경사항

![https://s3.us-west-2.amazonaws.com/secure.notion-static.com/bcdbb733-4a97-4839-b013-7f28d13b4539/3._.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20200829%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20200829T235425Z&X-Amz-Expires=86400&X-Amz-Signature=a6756fb15026021a6ed8a1e6f0491f6ce60c9b1ed747ce8f77b1c4a96264a754&X-Amz-SignedHeaders=host&response-content-disposition=filename %3D"3._.jpg"](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/bcdbb733-4a97-4839-b013-7f28d13b4539/3._.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20200829%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20200829T235425Z&X-Amz-Expires=86400&X-Amz-Signature=a6756fb15026021a6ed8a1e6f0491f6ce60c9b1ed747ce8f77b1c4a96264a754&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%223._.jpg%22)

- 웹서버 : Django Runserver > Nginx + Gunicorn
- 데이터베이스 : SQLite > PostgreSQL + Psycopg2
- 스케쥴링 : Django Crontab > Ubuntu Crontab

## 도커 이미지

![https://s3.us-west-2.amazonaws.com/secure.notion-static.com/77fb59ef-69b6-4776-8168-1b85ecc528b6/4.__.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20200829%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20200829T235455Z&X-Amz-Expires=86400&X-Amz-Signature=0b7af4a7c941f772c40d0cf2a6c3e802efa9bed02a16381baa3ee659070d4850&X-Amz-SignedHeaders=host&response-content-disposition=filename %3D"4.__.jpg"](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/77fb59ef-69b6-4776-8168-1b85ecc528b6/4.__.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20200829%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20200829T235455Z&X-Amz-Expires=86400&X-Amz-Signature=0b7af4a7c941f772c40d0cf2a6c3e802efa9bed02a16381baa3ee659070d4850&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%224.__.jpg%22){: align=left }

- nginx:1.17.6
- python:3.8.1
- postgres:9.6.16
- selenium-standalone-chromium-pi:3.141.59-dubnium

## 동작 확인

![https://s3.us-west-2.amazonaws.com/secure.notion-static.com/05a4ddff-6e49-4dd5-9e42-c76a7f2d7f8b/5.__.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20200829%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20200829T235531Z&X-Amz-Expires=86400&X-Amz-Signature=0b252d4be6d4aa958e8f82d67b513905b5dbf7dbb84ebb865902707cfed861d8&X-Amz-SignedHeaders=host&response-content-disposition=filename %3D"5.__.jpg"](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/05a4ddff-6e49-4dd5-9e42-c76a7f2d7f8b/5.__.jpg?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20200829%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20200829T235531Z&X-Amz-Expires=86400&X-Amz-Signature=0b252d4be6d4aa958e8f82d67b513905b5dbf7dbb84ebb865902707cfed861d8&X-Amz-SignedHeaders=host&response-content-disposition=filename%20%3D%225.__.jpg%22)